"use strict";(self.webpackChunkkhademan=self.webpackChunkkhademan||[]).push([[45],{6045:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(2791),r=s(1933),o=s(5294),i=s(6355),n=s(8048),l=s(6849),d=s(7689);var u=s(1986),c=s(824),p=s(5350),h=s(7438),m=s(548),x=s(3004),b=s(9055),v=s(184);function g(){const{token:e,sid:t,BASE_URL:s,checkForInvalidToken:g}=(0,l.aC)(),k=(0,u.p)(),{setIPS:C}=(0,n.Z)(),w=(0,d.TH)(),f=(0,d.s0)(),[j,S]=(0,a.useState)(""),I=(0,a.useMemo)((()=>{return e=j,new RegExp(/^[a-zA-Z0-9]{6,}$/).test(e);var e}),[j]),y=(0,r.useMutation)({mutationKey:["setNewPasswordMutation",{sid:t}],retry:0,mutationFn:async a=>{let{otp:r}=a;await o.Z.put("".concat(s,"/user/password/"),{password:j,otp:r},{headers:{Authorization:"Bearer ".concat(e),Sid:t}}),k({title:"\u06af\u0630\u0631\u0648\u0627\u0698\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062b\u0628\u062a \u0634\u062f!",status:"success",duration:4e3,isClosable:!0})},onSuccess:()=>{C(),S(""),w.state?w.state.redirect&&f(w.state.redirect,{replace:!0}):f("/",{replace:!0}),window.scrollTo({top:0,behavior:"smooth"})},onError(e){if(!g(e))return e.response&&e.response.data&&e.response.data.data?"Invalid OTP"===e.response.data.data.robo_id_message?void k({title:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0645\u0639\u062a\u0628\u0631 \u0646\u06cc\u0633\u062a!",status:"error",duration:4e3,isClosable:!0}):void k({title:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0645\u0639\u062a\u0628\u0631 \u0646\u06cc\u0633\u062a!",description:e.response.data.data.robo_id_message,status:"error",duration:4e3,isClosable:!0}):void k({title:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a",description:"\u0644\u0637\u0641\u0627 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f.",status:"error",duration:4e3,isClosable:!0})}});return(0,v.jsxs)(c.xu,{textAlign:"center",fontSize:"md",children:[(0,v.jsxs)(p.NI,{isInvalid:!I,children:[(0,v.jsx)(h.l,{children:"\u06af\u0630\u0631\u0648\u0627\u0698\u0647"}),(0,v.jsx)(m.I,{type:"text",value:j,onChange:e=>S(e.target.value),onKeyUp:e=>{"Enter"===e.key&&(I?y.mutate({otp:""}):k({title:"\u0644\u0637\u0641\u0627 \u0641\u06cc\u0644\u062f \u06af\u0630\u0631\u0648\u0627\u0698\u0647 \u0631\u0627 \u0628\u0647 \u062f\u0631\u0633\u062a\u06cc \u067e\u0631 \u06a9\u0646\u06cc\u062f!",status:"error",duration:4e3,isClosable:!0}))}}),j.trim().length<6?(0,v.jsx)(x.J1,{children:"\u0637\u0648\u0644 \u06af\u0630\u0631\u0648\u0627\u0698\u0647 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f!"}):I?null:(0,v.jsx)(x.J1,{children:"\u06af\u0630\u0631\u0648\u0627\u0698\u0647 \u0628\u0627\u06cc\u062f \u0641\u0642\u0637 \u0634\u0627\u0645\u0644 \u0627\u0639\u062f\u0627\u062f \u0648 \u062d\u0631\u0648\u0641 \u0627\u0646\u06af\u0644\u06cc\u0633\u06cc \u0628\u0627\u0634\u062f!"})]}),(0,v.jsx)(b.z,{mt:"2.5rem",fontSize:"md",isLoading:y.isLoading,loadingText:"\u062f\u0631\u062d\u0627\u0644 \u062b\u0628\u062a \u06af\u0630\u0631\u0648\u0627\u0698\u0647 ...",colorScheme:"blue",size:"lg",minW:"100%",leftIcon:(0,v.jsx)(i.l_A,{}),onClick:()=>{I?y.mutate({otp:""}):k({title:"\u0644\u0637\u0641\u0627 \u0641\u06cc\u0644\u062f \u06af\u0630\u0631\u0648\u0627\u0698\u0647 \u0631\u0627 \u0628\u0647 \u062f\u0631\u0633\u062a\u06cc \u067e\u0631 \u06a9\u0646\u06cc\u062f!",status:"error",duration:4e3,isClosable:!0})},children:"\u062b\u0628\u062a \u06af\u0630\u0631\u0648\u0627\u0698\u0647"})]})}}}]);
//# sourceMappingURL=45.eb62d955.chunk.js.map